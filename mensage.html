<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mensagem</title>
    <!-- Inclua a biblioteca SMTPJS -->
    <script src="https://smtpjs.com/v3/smtp.js"></script>
</head>
<body>

<form id="emailForm">
    <label for="name">Nome:</label>
    <input type="text" id="name" name="name" maxlength="200" required>

    <label for="message">Mensagem:</label>
    <textarea id="message" name="message" maxlength="200" required></textarea>

    <button type="button" onclick="enviarEmail()">Enviar</button>
</form>

<script>
    // Função para ofuscar (inverter) um valor
    function obfuscar(valor) {
        return valor.split('').reverse().join('');
    }

    // Função para enviar e-mail
    function enviarEmail() {
        // Obtenha os valores do formulário
        const name = document.getElementById('name').value;
        const message = document.getElementById('message').value;

        // Credenciais (não ofusque para fins de claridade)
        const username = '42976beec9d5fc';
        const password = '5c4aad7bb1f461';

        // Configurações do e-mail
        const emailConfig = {
            Host: "smtp.mailtrap.io",
            Username: username,
            Password: password,
            To: 'marcolopes1928@gmail.com',
            From: "from@example.com",
            Subject: "Nova mensagem do formulário de contato",
            Body: `Nome: ${name}\n\nMensagem: ${message}`,
            SecureToken: "" // Não é necessário incluir SecureToken para o Mailtrap
        };

        // Enviar e-mail usando a biblioteca SMTPJS
        Email.send(emailConfig).then(
            message => {
                alert("E-mail enviado com sucesso!");
                // Limpar o formulário ou realizar outras ações após o envio bem-sucedido
            },
            error => {
                console.error("Erro ao enviar e-mail:", error);
                alert("Erro ao enviar e-mail. Consulte o console para detalhes.");
                // Lidar com o erro, se necessário
            }
        );
    }
</script>

</body>
</html>
